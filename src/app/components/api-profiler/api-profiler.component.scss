.api-profiler-container{padding:20px;max-width:1200px;margin:0 auto}
.profiler-header{margin-bottom:24px}
.profiler-header h1{margin:0;font-size:28px;font-weight:500;color:#333}
.profiler-header .subtitle{margin:8px 0 0;color:#666;font-size:14px}
.error-banner,.info-banner,.loading-overlay{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:4px;margin-bottom:16px}
.error-banner{background:#ffebee;border:1px solid #ef9a9a}
.error-banner mat-icon,.error-banner span{color:#c62828}
.info-banner{background:#e3f2fd;border:1px solid #90caf9;padding:16px;border-radius:8px}
.info-banner mat-icon{color:#1976d2}
.info-banner div{font-size:14px;color:#1565c0;line-height:1.5}
.loading-overlay{background:#e3f2fd}
.loading-overlay span{color:#1976d2}
.tab-navigation{display:flex;gap:8px;margin-bottom:20px;border-bottom:1px solid #e0e0e0;padding-bottom:8px}
.tab-navigation button{display:flex;align-items:center;gap:6px}
.tab-navigation button.active{background:#e3f2fd;color:#1976d2}
.tab-navigation button:disabled{opacity:.5}
.tab-content .tab-panel{animation:fadeIn .2s ease-in-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1}}
mat-card{margin-bottom:16px}
mat-card.result-card{border-left:4px solid #1976d2}
mat-card-header.clickable{cursor:pointer}
mat-card-header.clickable:hover{background:#f5f5f5}
mat-card-header mat-card-title{display:flex;align-items:center;gap:8px}
.query-row,.form-row{display:flex;gap:12px;align-items:flex-start;margin-bottom:16px}
.method-field{width:120px}
.url-field,.display-name-field{flex:1}
.name-field{width:200px}
.headers-section{margin-bottom:16px}
.headers-section .section-header{display:flex;justify-content:space-between;margin-bottom:8px;font-weight:500}
.headers-section .header-row{display:flex;gap:12px;margin-bottom:8px}
.headers-section .header-key{width:200px}
.headers-section .header-value{flex:1}
.options-section{display:flex;flex-wrap:wrap;gap:16px;align-items:center}
.root-path-field{width:250px}
.profile-name-field{width:200px}
.full-width{width:100%}
.json-display,.schema-display,.format-schema,.field-schema,.sample-json{background:#263238;color:#aed581;padding:12px;border-radius:4px;font-family:monospace;font-size:11px;line-height:1.4;overflow-x:auto;margin:0}
.json-display{padding:16px;max-height:400px;font-size:12px}
.schema-display{color:#80cbc4;padding:16px;font-size:12px;white-space:pre}
.schema-display.compact{padding:12px;font-size:11px;max-height:200px}
.format-schema{color:#80cbc4;font-size:10px;max-height:120px}
.field-schema{background:#1b5e20;color:#c8e6c9;max-height:180px}
.sample-json{max-height:120px}
.badge{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}
.badge.success{background:#c8e6c9;color:#2e7d32}
.badge.error{background:#ffcdd2;color:#c62828}
.success-icon,.success{color:#4caf50}
.error-icon,.error{color:#c62828}
.analysis-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;margin-bottom:16px}
.analysis-item .label{color:#666;font-size:12px}
.analysis-item .value{display:block;font-size:24px;font-weight:500;color:#1976d2}
.matches-list{display:flex;flex-direction:column;gap:8px}
.match-item{display:flex;justify-content:space-between;padding:12px 16px;border-radius:4px;background:#f5f5f5;color:#333}
.match-item.match-high{border-left:4px solid #4caf50;background:#e8f5e9}
.match-item.match-medium{border-left:4px solid #ff9800;background:#fff3e0}
.match-item.match-low{border-left:4px solid #9e9e9e;background:#fafafa}
.match-header{display:flex;align-items:center;gap:16px}
.match-header .profile-name{font-weight:500;color:#333}
.match-header .confidence{font-size:18px;font-weight:600;color:#1976d2}
.match-item.match-high .match-header .confidence{color:#2e7d32}
.match-item.match-medium .match-header .confidence{color:#e65100}
.match-item.match-low .match-header .confidence{color:#616161}
.match-details{display:flex;gap:8px}
.type-grid,.variable-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:8px}
.type-item,.variable-item{display:flex;justify-content:space-between;padding:8px 12px;background:#f5f5f5;border-radius:4px}
.variable-item{background:#e8f5e9}
.field-name,.var-name{font-weight:500}
.field-type,.var-type{color:#666;font-family:monospace}
.variable-item .var-type{color:#2e7d32}
.format-templates-card{border-left:4px solid #7b1fa2}
.format-templates-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;margin-top:8px}
.format-template{padding:16px;background:#fafafa;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s}
.format-template:hover{background:#f3e5f5;border-color:#ce93d8;transform:translateY(-2px)}
.format-template.selected{background:#f3e5f5;border-color:#7b1fa2}
.format-header{display:flex;align-items:center;gap:8px;margin-bottom:12px}
.format-header mat-icon{color:#7b1fa2}
.format-name{font-weight:600;font-size:14px;color:#333}
.format-desc{margin-top:8px;font-size:12px;color:#666}
.format-path{margin-top:8px;font-size:11px;color:#888}
.format-path code{background:#e8e8e8;padding:2px 6px;border-radius:3px;font-family:monospace;color:#7b1fa2}
.selected-profile-card{border-left:4px solid #4caf50;background:#f1f8e9}
.selected-info{margin-top:12px;padding:12px;background:#fff;border-radius:4px}
.selected-info .label{color:#666;margin-right:8px}
.selected-info code{background:#e8f5e9;padding:4px 8px;border-radius:4px;font-family:monospace;color:#2e7d32}
.profile-chips,.template-chips{margin-bottom:16px}
.profile-chips h4,.template-chips h4{margin:0 0 8px;font-size:13px;color:#666}
.profile-preview-card{position:sticky;top:20px;border-left:4px solid #7b1fa2;background:#fff;z-index:10}
.preview-section{margin-bottom:20px}
.preview-section h4{margin:0 0 12px;color:#333;font-size:14px;font-weight:600}
.create-form{display:flex;flex-direction:column;gap:16px}
.selected-profile-info{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#e8f5e9;border-radius:4px;color:#2e7d32}
.create-form .options{display:flex;gap:24px}
.success-details p{margin:8px 0}
.variables-list{margin-top:16px}
.variables-list h4{margin:0 0 8px;color:#666}
.success-note{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fff3e0;border-radius:4px;color:#e65100}
.error-details{color:#c62828}
.no-data-message{display:flex;align-items:center;gap:12px;padding:24px;background:#f5f5f5;border-radius:4px;color:#666}
.no-data-message mat-icon{font-size:32px;width:32px;height:32px}
.no-data-message p{margin:0}
.endpoint-form{display:flex;flex-direction:column;gap:16px}
.domain-section{margin-bottom:16px;padding:16px;background:#f5f5f5;border-radius:8px}
.domain-select-field{flex:1;min-width:300px}
.domain-select-field ::ng-deep .mat-mdc-select-value{color:#333}
.domain-select-field ::ng-deep .mat-mdc-select-arrow{color:#666}
.add-domain-btn{height:56px}
.new-domain-form{margin-top:16px;padding:16px;background:#fff;border:1px solid #e0e0e0;border-radius:6px}
.host-field{flex:2;min-width:200px}
.port-field{width:100px}
.protocol-field{width:100px}
.ssl-options{display:flex;gap:16px;margin-bottom:12px}
.url-preview{padding:8px 12px;background:#e3f2fd;border-radius:4px;margin-bottom:16px}
.url-preview .label{color:#666;font-size:12px;margin-right:8px}
.url-preview code{font-family:monospace;color:#1565c0;word-break:break-all}
.auth-section{display:flex;gap:16px;align-items:flex-start}
.auth-type-field{width:180px}
.auth-value-field{flex:1}
.profile-select-field{width:300px}
.persistence-section{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
.class-name-field{width:250px}
.form-actions{display:flex;gap:12px;margin-top:8px}
.endpoints-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:16px}
.endpoint-card{border-left:4px solid #1976d2;transition:transform .2s}
.endpoint-card.inactive{border-left-color:#9e9e9e;opacity:.7}
.endpoint-card:hover{transform:translateY(-2px)}
.detail-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.detail-row .label{color:#666;font-size:12px;min-width:100px}
.detail-row .value{font-size:14px}
.detail-row .value.success{color:#2e7d32}
.detail-row .value.error{color:#c62828}
.path-value{background:#e8e8e8;padding:2px 8px;border-radius:3px;font-family:monospace;font-size:12px;color:#7b1fa2}
.endpoint-field-abstraction{margin-top:16px;padding:12px;background:#e8f5e9;border:1px solid #a5d6a7;border-radius:6px}
.abstraction-header{display:flex;align-items:center;gap:8px;margin-bottom:10px;color:#2e7d32;font-size:13px;font-weight:500}
.abstraction-header mat-icon{font-size:18px;width:18px;height:18px}
.endpoint-sample-section{margin-top:12px}
.sample-header{display:flex;align-items:center;gap:4px;cursor:pointer;color:#666;font-size:12px;padding:4px 0}
.sample-header:hover{color:#333}
.sample-header mat-icon{font-size:18px;width:18px;height:18px}
mat-card-actions{display:flex;flex-wrap:wrap;gap:4px;padding:8px 16px;border-top:1px solid #e0e0e0}
.no-endpoints-card .no-data-message{flex-direction:column;text-align:center;padding:40px 24px}
.no-endpoints-card mat-icon{font-size:48px;width:48px;height:48px;color:#9e9e9e}
.no-endpoints-card p{margin:8px 0}
.no-endpoints-card p:first-of-type{font-size:16px;font-weight:500}
.fetch-result-card{border-left:4px solid #1976d2}
.result-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;margin-bottom:16px}
.result-item .label{display:block;color:#666;font-size:12px;margin-bottom:4px}
.result-item .value{font-size:16px;font-weight:500}
.fetch-data,.debug-info{margin-top:16px}
.fetch-data h4,.debug-info h4{margin:0 0 8px;color:#666}
.fetch-error{color:#c62828}

/* Form field text visibility fixes - comprehensive override */
.api-profiler-container ::ng-deep {
    /* Input and select text */
    .mat-mdc-select-value,
    .mat-mdc-select-value-text,
    .mat-mdc-input-element{color:#333 !important}

    /* Labels and hints */
    .mdc-floating-label,
    .mat-mdc-form-field-hint,
    .mat-mdc-form-field-subscript-wrapper{color:#666 !important}

    /* Select arrow */
    .mat-mdc-select-arrow{color:#666 !important}

    /* Form field container */
    .mat-mdc-form-field{color:#333}
    .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fafafa}
    .mat-mdc-form-field-focus-overlay{background-color:rgba(0,0,0,0.04)}

    /* Select panel dropdown */
    .mat-mdc-select-panel{background:#fff}
    .mat-mdc-option{color:#333}
    .mat-mdc-option .mdc-list-item__primary-text{color:#333}
    .mat-mdc-optgroup-label{color:#666}

    /* Outlined field borders */
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing{border-color:rgba(0,0,0,0.38) !important}

    /* Card titles and headers */
    mat-card-title,
    .mat-mdc-card-title{color:#333}
}

/* Domain section specific fixes */
.domain-section{
    background:#f5f5f5;
    ::ng-deep .mat-mdc-select-value,
    ::ng-deep .mat-mdc-select-value-text{color:#333 !important}
    ::ng-deep .mat-mdc-text-field-wrapper{background-color:#fff}
    ::ng-deep .mdc-floating-label{color:#666 !important}
}

/* All select fields in forms */
.domain-select-field,
.profile-select-field,
.auth-type-field,
.method-field,
.protocol-field{
    ::ng-deep{
        .mat-mdc-select-value,
        .mat-mdc-select-value-text{color:#333 !important}
        .mdc-floating-label{color:#666 !important}
    }
}

/* Match items - ensure dark text on light backgrounds */
.match-item{
    color:#333 !important;
    flex-direction: column;
    .profile-name{color:#333 !important}
}
.match-item.match-high{background:#c8e6c9}
.match-item.match-medium{background:#ffe0b2}
.match-item.match-low{background:#eeeeee}

/* Match header with expansion */
.match-item .match-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    cursor: pointer;
    padding: 4px 0;
}
.match-item .match-header:hover {
    background: rgba(0,0,0,0.03);
    margin: -4px;
    padding: 4px;
    border-radius: 4px;
}
.match-item .match-title {
    display: flex;
    align-items: center;
    gap: 8px;
}
.match-item .expand-icon {
    font-size: 20px;
    width: 20px;
    height: 20px;
    color: #666;
}
.match-item .match-summary {
    display: flex;
    align-items: center;
    gap: 12px;
}
.match-item .chip-small {
    transform: scale(0.85);
}

/* Signature summary badges */
.signature-summary {
    display: flex;
    gap: 16px;
    margin-top: 8px;
    padding: 8px 12px;
    background: rgba(0,0,0,0.04);
    border-radius: 4px;
}
.sig-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #666;
    mat-icon {
        font-size: 16px;
        width: 16px;
        height: 16px;
    }
}
.sig-badge.complete {
    color: #2e7d32;
    mat-icon { color: #4caf50; }
}
.sig-badge.type-sig mat-icon { color: #7b1fa2; }
.sig-badge.field-sig mat-icon { color: #1976d2; }

/* Expanded signature details */
.signature-details {
    margin-top: 12px;
    padding: 12px;
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
}

.signature-section {
    margin-bottom: 16px;
    &:last-child { margin-bottom: 0; }
}

.signature-section .section-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
    font-weight: 500;
    font-size: 13px;
    color: #333;
    mat-icon {
        font-size: 18px;
        width: 18px;
        height: 18px;
        color: #7b1fa2;
    }
    .section-count {
        color: #666;
        font-weight: normal;
        font-size: 12px;
    }
}

/* Type signature list */
.signature-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.signature-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    background: #f5f5f5;
    border-radius: 4px;
    font-size: 12px;
    font-family: monospace;
}
.signature-item.signature-matched {
    background: #e8f5e9;
    border-left: 3px solid #4caf50;
}
.signature-item.signature-missing {
    background: #fff3e0;
    border-left: 3px solid #ff9800;
}
.signature-item.signature-extra {
    background: #e3f2fd;
    border-left: 3px solid #2196f3;
    opacity: 0.85;
}
.signature-item .status-icon {
    font-size: 16px;
    width: 16px;
    height: 16px;
}
.signature-item.signature-matched .status-icon { color: #4caf50; }
.signature-item.signature-missing .status-icon { color: #ff9800; }
.signature-item.signature-extra .status-icon { color: #2196f3; }
.signature-item .sig-level {
    color: #7b1fa2;
    font-weight: 600;
    min-width: 55px;
}
.signature-item .sig-expected {
    color: #333;
}
.signature-item .sig-arrow {
    color: #999;
}
.signature-item .sig-found {
    color: #2e7d32;
}
.signature-item .sig-found.not-found {
    color: #c62828;
    font-style: italic;
}

/* Level headers for field signatures */
.level-header {
    font-size: 11px;
    font-weight: 600;
    color: #7b1fa2;
    margin: 8px 0 4px;
    padding: 4px 8px;
    background: #f3e5f5;
    border-radius: 3px;
    display: inline-block;
}

/* Field chips */
.field-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 8px;
}
.field-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-family: monospace;
    background: #e0e0e0;
    color: #333;
}
.field-chip.signature-matched {
    background: #c8e6c9;
    color: #1b5e20;
}
.field-chip.signature-missing {
    background: #ffecb3;
    color: #e65100;
}
.field-chip.signature-extra {
    background: #e3f2fd;
    color: #1565c0;
}
.field-chip .chip-icon {
    font-size: 12px;
    width: 12px;
    height: 12px;
}
.field-chip.signature-matched .chip-icon { color: #2e7d32; }
.field-chip.signature-missing .chip-icon { color: #ff9800; }
.field-chip.signature-extra .chip-icon { color: #1976d2; }

/* Extra fields section */
.extra-fields {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px dashed #e0e0e0;
}
.extra-header {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: #666;
    margin-bottom: 8px;
    mat-icon {
        font-size: 16px;
        width: 16px;
        height: 16px;
        color: #1976d2;
    }
}

/* Data path info */
.data-path-info {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    padding: 8px 12px;
    background: #f5f5f5;
    border-radius: 4px;
    font-size: 12px;
    color: #666;
    mat-icon {
        font-size: 16px;
        width: 16px;
        height: 16px;
        color: #1976d2;
    }
    code {
        background: #e3f2fd;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: monospace;
        color: #1565c0;
    }
}

/* Format/Records Analysis Sections */
.format-badge, .path-badge {
    font-size: 12px;
    font-weight: 500;
    padding: 2px 8px;
    border-radius: 12px;
    margin-left: 8px;
}
.format-badge {
    background: #e8f5e9;
    color: #2e7d32;
}
.path-badge {
    background: #e3f2fd;
    color: #1565c0;
    font-family: monospace;
}

.analysis-description {
    color: #666;
    font-size: 13px;
    margin: 0 0 12px 0;
    font-style: italic;
}

.type-value {
    font-family: monospace;
    background: #f3e5f5;
    color: #7b1fa2;
    padding: 2px 6px;
    border-radius: 3px;
}

.signature-details-inline {
    margin: 12px 0;
}
.signature-details-inline h4 {
    margin: 0 0 8px 0;
    font-size: 13px;
    color: #333;
}

.type-structure {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}
.type-level {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background: #f5f5f5;
    border-radius: 4px;
    font-size: 12px;
    font-family: monospace;
}
.type-level .level-num {
    color: #7b1fa2;
    font-weight: 600;
}
.type-level .level-type {
    color: #333;
}

.level-label {
    display: inline-block;
    color: #7b1fa2;
    font-weight: 600;
    font-size: 12px;
    margin-right: 8px;
    min-width: 60px;
}

/* Required/Optional field badges */
.sig-badge.required {
    background: #fff3e0;
    border-color: #ff9800;
}
.sig-badge.optional {
    background: #f3e5f5;
    border-color: #9c27b0;
}

.field-chip.signature-required {
    border-left: 3px solid #ff9800;
}
.field-chip.signature-optional {
    border-left: 3px solid #9c27b0;
    opacity: 0.9;
}
.field-chip .field-label {
    color: inherit;
}
.field-chip .field-label.required-field {
    font-weight: 600;
}
.field-chip .field-type {
    font-size: 10px;
    color: #7b1fa2;
    font-style: italic;
    opacity: 0.8;
}
.field-chip .field-badge {
    font-size: 9px;
    padding: 1px 4px;
    border-radius: 3px;
    background: #ff9800;
    color: white;
    margin-left: 4px;
    text-transform: uppercase;
}
.field-chip .field-badge.optional {
    background: #9c27b0;
}

/* Type badge for type signatures */
.signature-item .type-badge {
    font-size: 9px;
    padding: 1px 4px;
    border-radius: 3px;
    background: #ff9800;
    color: white;
    margin-left: auto;
    text-transform: uppercase;
}
.signature-item .type-badge.optional {
    background: #9c27b0;
}

/* Required/optional styling for signature items */
.signature-item.signature-required {
    border-left-width: 4px;
}
.signature-item.signature-optional {
    border-left-style: dashed;
    opacity: 0.9;
}

.inline-chips {
    display: inline-flex;
    flex-wrap: wrap;
    gap: 4px;
    vertical-align: middle;
}

/* Detected type styling for format analysis */
.field-chip.signature-detected {
    background: #e8f5e9;
    color: #1b5e20;
    border: 1px solid #a5d6a7;
}
.field-chip .field-badge.detected {
    background: #4caf50;
    color: white;
}

/* Match category classes */
.match-item.match-full {
    border-left: 4px solid #4caf50;
    background: #e8f5e9;
}
.match-item.match-partial {
    border-left: 4px solid #ff9800;
    background: #fff3e0;
}
.match-item.match-none {
    border-left: 4px solid #9e9e9e;
    background: #fafafa;
}

/* Ranking weights info bar */
.ranking-weights-info {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 12px;
    background: #f5f5f5;
    border-radius: 4px;
    margin-bottom: 12px;
    font-size: 11px;
    color: #666;
}
.ranking-weights-info .weights-label {
    font-weight: 600;
    color: #333;
}
.ranking-weights-info .weight-item {
    padding: 2px 6px;
    background: #e0e0e0;
    border-radius: 3px;
    font-family: monospace;
}

/* Rank score display */
.rank-score {
    font-size: 12px;
    font-weight: 600;
    color: #7b1fa2;
    padding: 2px 8px;
    background: #f3e5f5;
    border-radius: 10px;
}

/* Category badge styling */
.category-badge {
    font-weight: 600;
}
